$(document).ready(function () {
  const cities = [
    "Авдіївка", "Алчевськ", "Андрушівка", "Антрацит", "Апостолове", "Армянськ", "Арциз", "Балаклія", "Балаклава", "Балта",
    "Бар", "Баранівка", "Барвінкове", "Бахмач", "Бахмут", "Баштанка", "Белз", "Бердичів", "Бердянськ", "Берегове",
    "Бережани", "Березань", "Березне", "Берислав", "Бершадь", "Бібрка", "Біла Церква", "Білгород-Дністровський", "Біла Криниця",
    "Білозерське", "Білопілля", "Біляївка", "Благовіщенське", "Бобринець", "Бобровиця", "Богодухів", "Богуслав", "Боково-Хрустальне", "Болград",
    "Болехів", "Борзна", "Борислав", "Бориспіль", "Борщів", "Боярка", "Бровари", "Броди", "Брянка", "Буринь",
    "Бурштин", "Буськ", "Буча", "Бучач", "Валки", "Вараш", "Василівка", "Васильків", "Ватутіне", "Вашківці",
    "Великі Мости", "Вендичани", "Верхівцеве", "Верхньодніпровськ", "Вижниця", "Вилкове", "Винники", "Виноградів", "Вишгород", "Вишневе",
    "Вільногірськ", "Вільнянськ", "Вінниця", "Вовчанськ", "Вознесенськ", "Волноваха", "Володимир", "Володимирець", "Волочиськ", "Ворожба",
    "Вугледар", "Гайворон", "Гайсин", "Галич", "Генічеськ", "Герца", "Гірник", "Глобине", "Глухів", "Гнівань",
    "Гола Пристань", "Голубівка", "Городенка", "Городище", "Городня", "Городок", "Горохів", "Гоща", "Гребінка", "Гуляйполе",
    "Дебальцеве", "Деражня", "Дергачі", "Джанкой", "Дніпро", "Добромиль", "Добропілля", "Докучаєвськ", "Долина", "Долинська",
    "Донецьк", "Дрогобич", "Дружба", "Дружківка", "Дубно", "Дубляни", "Дубровиця", "Дунаївці", "Енергодар", "Євпаторія",
    "Єнакієве", "Жашків", "Жданівка", "Жидачів", "Житомир", "Жмеринка", "Жовква", "Жовті Води", "Заводське", "Заліщики",
    "Запоріжжя", "Заставна", "Збараж", "Зборів", "Звенигородка", "Здолбунів", "Зеленодольськ", "Зимогір'я", "Зіньків", "Зміїв",
    "Знам'янка", "Золотоноша", "Золочів", "Зоринськ", "Зугрес", "Івано-Франківськ", "Ізмаїл", "Ізюм", "Іллінці", "Іловайськ",
    "Ірміно", "Ірпінь", "Іршава", "Ічня", "Кагарлик", "Кадіївка", "Калуш", "Кам'янець-Подільський", "Кам'янка", "Кам'янка-Бузька",
    "Кам'янка-Дніпровська", "Кам'янське", "Канів", "Карлівка", "Катеринопіль", "Каховка", "Керч", "Київ", "Кілія", "Кіцмань",
    "Кобеляки", "Ковель", "Кодима", "Козятин", "Коломия", "Комарно", "Комсомольське", "Конотоп", "Копичинці", "Корець",
    "Коростень", "Коростишів", "Корсунь-Шевченківський", "Корюківка", "Косів", "Костопіль", "Костянтинівка", "Краматорськ", "Красилів", "Красногорівка",
    "Краснодон", "Красноперекопськ", "Краснопілля", "Кременчук", "Кремінна", "Кривий Ріг", "Кролевець", "Кропивницький", "Кролевець", "Куп'янськ",
    "Курахове", "Ладижин", "Лановець", "Лебедин", "Лиман", "Липовець", "Лисичанськ", "Лозова", "Лохвиця", "Лубни",
    "Луганськ", "Лутугине", "Луцьк", "Львів", "Любомль", "Люботин", "Макіївка", "Мала Виска", "Малин", "Марганець",
    "Маріуполь", "Мелітополь", "Мена", "Мерефа", "Миколаїв", "Миргород", "Мирноград", "Миронівка", "Могилів-Подільський", "Молодогвардійськ",
    "Молочанськ", "Монастириська", "Монастирище", "Мостиська", "Мукачево", "Надвірна", "Немирів", "Нетішин", "Ніжин", "Нікополь",
    "Нова Каховка", "Новгород-Сіверський", "Новий Буг", "Новий Калинів", "Новий Розділ", "Новоазовськ", "Нововолинськ", "Новогродівка", "Новодністровськ", "Новодружеськ",
    "Новомиргород", "Новомосковськ", "Новопсков", "Новоселиця", "Новоукраїнка", "Новояворівськ", "Обухів", "Овруч", "Одеса", "Оріхів",
    "Острог", "Острогожськ", "Охтирка", "Павлоград", "Первомайськ", "Перевальськ", "Перемишляни", "Перечин", "Переяслав", "Першотравенськ",
    "Пирятин", "Покров", "Покровськ", "Полонне", "Полтава", "Пологи", "Попасна", "Почаїв", "Привілля", "Прилуки",
    "Приморськ", "Пустомити", "Путивль", "Рава-Руська", "Радехів", "Радомишль", "Рахів", "Рені", "Рівне", "Рогатин",
    "Родинське", "Рожище", "Ромни", "Рубіжне", "Саки", "Самбір", "Сарни", "Свалява", "Сватове", "Світловодськ",
    "Севастополь", "Селидове", "Семенівка", "Середина-Буда", "Сєвєродонецьк", "Синельникове", "Скадовськ", "Скалат", "Славута", "Славутич",
    "Слов'янськ", "Сміла", "Снігурівка", "Сніжне", "Сокаль", "Сокиряни", "Соледар", "Сорокине", "Соснівка", "Старий Самбір",
    "Старобільськ", "Старокостянтинів", "Стебник", "Сторожинець", "Стрий", "Судак", "Суми", "Суходільськ", "Таврійськ", "Тальне",
    "Тараща", "Татарбунари", "Теплодар", "Теребовля", "Тернівка", "Тернопіль", "Тетіїв", "Тисмениця", "Тлумач", "Токмак",
    "Торецьк", "Тростянець", "Трускавець", "Тульчин", "Ужгород", "Узин", "Українка", "Ульянівка", "Умань", "Фастів",
    "Феодосія", "Харків", "Харцизьк", "Херсон", "Хирів", "Хмельницький", "Хмільник", "Ходорів", "Хорол", "Хоростків",
    "Хотин", "Хрестівка", "Хуст", "Цюрупинськ", "Часів Яр", "Червоноград", "Черкаси", "Чернівці", "Чернігів", "Чигирин",
    "Чоп", "Чорнобиль", "Чорноморськ", "Чортків", "Чугуїв", "Шаргород", "Шахтарськ", "Шепетівка", "Шостка", "Шпола",
    "Щастя", "Щолкіне", "Южне", "Южноукраїнськ", "Яворів", "Яготин", "Ялта", "Ямпіль", "Яремче", "Ясинувата"
  ];

  const citySelect = document.getElementById('city');
  cities.forEach(city => {
    const option = document.createElement('option');
    option.value = city.toLowerCase();
    option.textContent = city;
    citySelect.appendChild(option);
  });

  $('.js-example-basic-single').select2({
    placeholder: "Виберіть місто",
    allowClear: true,
    language: {
      inputTooShort: function () {
        return 'Введіть щонайменше один символ';
      },
      noResults: function () {
        return 'Нічого не знайдено';
      }
    }
  });
});

function calculatePrice() {
  const breed = document.getElementById('breed').value;
  const city = document.getElementById('city').value.toLowerCase();
  const gender = document.getElementById('gender').value;
  const age = document.getElementById('age').value;
  const health = document.getElementById('health').value;
  const vaccination = document.getElementById('vaccination').value;
  const pedigree = document.getElementById('pedigree').value;
  const training = document.getElementById('training').value;

  let basePrice = 0;

  switch (breed) {
    case 'labrador':
      basePrice = 10000;
      break;
    case 'samoyed':
      basePrice = 12000;
      break;
    case 'bulldog':
      basePrice = 15000;
      break;
    case 'yorkshire':
      basePrice = 8000;
      break;
    default:
      basePrice = 5000;
  }

  if (pedigree === 'good') {
    basePrice += 2000;
  } else if (pedigree === 'champion') {
    basePrice += 5000;
  }

  if (city === 'київ') {
    basePrice += 1000;
  } else if (city === 'львів') {
    basePrice += 500;
  }

  if (gender === 'female') {
    basePrice += 500;
  }

  if (age <= 6) {
    basePrice += 1000;
  } else if (age > 6 && age <= 12) {
    basePrice += 500;
  }

  if (health === 'unhealthy') {
    basePrice -= 2000;
  }

  if (vaccination === 'yes') {
    basePrice += 1000;
  }

  if (training === 'basic') {
    basePrice += 1000;
  } else if (training === 'advanced') {
    basePrice += 3000;
  }

  const markup = basePrice * 0.2;
  const finalPrice = basePrice + markup;

  document.getElementById('price').textContent = `${finalPrice.toFixed(2)} грн`;
}
